<head>
    <title>Voter</title>
</head>

<body>
    <div class="container">
        <header>
            <h1>Voter</h1>

            {{> loginButtons}}

            {{> eventButtons}}

            {{#with creating_event}}
            <form id="creating-event">
                <input type="text" name="event_name" placeholder="Event Name" />
            </form>
            {{/with}}

            {{#if currentUser}}
            <form class="new-task">
                <input type="text" name="text" placeholder="Type to add new vote items" />
            </form>
            {{/if}}
        </header>

        <ul>
            {{#each tasks}}
            {{> task}}
            {{/each}}
        </ul>

    </div>
</body>

<template name="task">
    <li class="task_item">
        <button class="delete">&times;</button>
        <span class="text">{{item_name}}</span>
    </li>
</template>

<template name="eventButtons">
    <div class="btn-group">
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" id="active_event">{{active_button_text}} <span class="caret"></span>
        </button>
        <ul class="dropdown-menu" role="menu">
            {{#each events}}
            {{> event_item}}
            {{/each}}
            <li class="divider"></li>
            <li><a href="#" id="new_event">Add a new event</a></li>
        </ul>
    </div>
</template>
<template name="event_item">
    <li><a href="#">{{event_name}}</a></li>
</template>
